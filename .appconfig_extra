# ==============================================================================
# Additional application config
# ==============================================================================

# ==============================================================================
# Messages
# ==============================================================================

# Load Messages at startup, but hide application windows
osascript -e 'tell application "System Events" to make login item at end with properties {path:"/Applications/Messages.app", hidden:true}'

# ==============================================================================
# QuickLook
# ==============================================================================

# Adjust QlColorCode typeface and theme
defaults write org.n8gray.QLColorCode font Consolas
defaults write org.n8gray.QLColorCode fontSizePoints 10
# defaults write org.n8gray.QLColorCode hlTheme solarized-light

# ==============================================================================
# Notification Center
# ==============================================================================

# Change Notification Center sound from horrible Basso to something much nice.
# ------------------------------------------------------------------------------

cd ~
mkd Tones
cd Tones

# Download some ringtones.
# This is link to iOS7 tones and alert sounds, extracted from iOS source,
# so itâ€™s very likely that this is not legal.
curl -O http://www.cydiahacks.com/iOS7Tones.zip

# Unzip the file to Tones directory inside current directory
unzip iOS7Tones.zip -d Tones

# Convert Calendar alert (or some other which you like) to AIFF format
afconvert -f AIFF -d BEI24 Tones/Alerts/chord.m4r chord.aiff

# Rename converted file to Basso.aiff
mv chord.aiff Basso.aiff

# Copy Basso.aiff to ~/Library/Sounds
cp Basso.aiff ~/Library/Sounds/

# Kill Notification Center
killall NotificationCenter

# ==============================================================================
# Kill/recache affected applications
# ==============================================================================

defaults read org.n8gray.QLColorCode

for app in "Messages" "NotificationCenter";
do
	killall "$app" > /dev/null 2>&1
done
echo "Done. Note that some of these changes require a logout/restart to take effect."
