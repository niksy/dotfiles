# ==============================================================================
# Additional application config
# ==============================================================================

# ==============================================================================
# TextEdit
# ==============================================================================

# Change monospace typeface to Consolas
defaults write com.apple.TextEdit NSFixedPitchFont -string "Consolas"
defaults write com.apple.TextEdit NSFixedPitchFontSize -int 16

# ==============================================================================
# Mail
# ==============================================================================

# Change monospace typeface to Consolas
defaults write com.apple.mail NSFixedPitchFont -string "Consolas"
defaults write com.apple.mail NSFixedPitchFontSize -int 14

# ==============================================================================
# Messages
# ==============================================================================

# Load Messages at startup, but hide application windows
osascript -e 'tell application "System Events" to make login item at end with properties {path:"/Applications/Messages.app", hidden:true}'

# ==============================================================================
# QuickLook
# ==============================================================================

# Adjust QlColorCode typeface and theme
defaults write org.n8gray.QLColorCode font Consolas
defaults write org.n8gray.QLColorCode fontSizePoints 10

# ==============================================================================
# Google Chrome
# ==============================================================================

# Use the system-native print preview dialog
defaults write com.google.Chrome DisablePrintPreview -bool true

# ==============================================================================
# MPV
# ==============================================================================

# Use Helvetica Bold as subtitle font
mpv_conf=$HOME/.config/mpv/mpv.conf;
echo "ass-force-style=FontName=Helvetica,Default.Bold=1,FontSize=20" >> $mpv_conf
echo "osd-font='Helvetica:style=Bold'" >> $mpv_conf
echo "osd-font-size=30" >> $mpv_conf

# ==============================================================================
# Full cleanup
# ==============================================================================

# Recache affected applications
defaults read org.n8gray.QLColorCode
defaults read com.apple.mail

# Kill affected applications
for app in "cfprefsd" "Messages" "NotificationCenter";
do
	killall "$app" > /dev/null 2>&1
done
echo "Done. Note that some of these changes require a logout/restart to take effect."
