# ==============================================================================
# Additional application config
# ==============================================================================

# ==============================================================================
# TextEdit
# ==============================================================================

# Change monospace typeface to Consolas
# N.B. This is commented out as there is a possibility that system
# doesn't have this typeface and we want to avoid potential problems
# defaults write com.apple.TextEdit NSFixedPitchFont -string "Consolas"
# defaults write com.apple.TextEdit NSFixedPitchFontSize -int 16

# ==============================================================================
# Mail
# ==============================================================================

# Change monospace typeface to Consolas
# N.B. This is commented out as there is a possibility that system
# doesn't have this typeface and we want to avoid potential problems
# defaults write com.apple.mail NSFixedPitchFont -string "Consolas"
# defaults write com.apple.mail NSFixedPitchFontSize -int 14

# ==============================================================================
# Messages
# ==============================================================================

# Load Messages at startup, but hide application windows
osascript -e 'tell application "System Events" to make login item at end with properties {path:"/Applications/Messages.app", hidden:true}'

# ==============================================================================
# QuickLook
# ==============================================================================

# Adjust QlColorCode typeface and theme
defaults write org.n8gray.QLColorCode font Consolas
defaults write org.n8gray.QLColorCode fontSizePoints 10
# defaults write org.n8gray.QLColorCode hlTheme solarized-light

# ==============================================================================
# Notification Center
# ==============================================================================

# Change Notification Center sound from horrible Basso to something much nice.
#
# This is link to iOS7 tones and alert sounds, extracted from iOS source,
# so itâ€™s very likely that this is not legal.
# ------------------------------------------------------------------------------

cd ~
mkdir Tones
cd Tones
curl -O http://www.cydiahacks.com/iOS7Tones.zip
unzip iOS7Tones.zip -d Tones
afconvert -f AIFF -d BEI24 Tones/Alerts/chord.m4r chord.aiff
mv chord.aiff Basso.aiff
cp Basso.aiff ~/Library/Sounds/
killall NotificationCenter

# ==============================================================================
# Mail
# ==============================================================================

# Set custom Archive folder for specific mail account
#   * Number "3" is entry inside array which can differ on every machine; use print
#     to see which entry you want to change
#   * Value of "ArchiveMailboxName" is name of the folder you want to be
#     archive folder
# /usr/libexec/PlistBuddy -c 'print :MailAccounts' ~/Library/Mail/V2/MailData/Accounts.plist
# /usr/libexec/PlistBuddy -c 'Set :MailAccounts:3:ArchiveMailboxName "3K Arhiva"' ~/Library/Mail/V2/MailData/Accounts.plist

# ==============================================================================
# Full cleanup
# ==============================================================================

# Recache affected applications
defaults read org.n8gray.QLColorCode
defaults read com.apple.mail

# Kill affected applications
for app in "Messages" "NotificationCenter";
do
	killall "$app" > /dev/null 2>&1
done
echo "Done. Note that some of these changes require a logout/restart to take effect."
